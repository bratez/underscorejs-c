<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Underscore.js learning object functions</title>
    <script
            src="https://code.jquery.com/jquery-3.1.1.min.js"
            integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore.js"></script>
</head>
<body>
    <header>
        <h1>Underscore templating</h1>
        <div id="content"></div>
    </header>

    <script type="text/template" id="template">
        <h2><%- heading %></h2>
        <p><%- description %></p>
        <ul>
            <% _.each(listItems, function(item){ %>
                <% if (item.published) { %>
                    <li>
                        <%- item.name %>
                    </li>
                <% } %>
            <% }) %>
        </ul>
    </script>

    <script>
        setTimeout(function() {
            window.location.href = window.location.href;
        }, 8000);

        var content = document.getElementById('content');
        var tmpl = document.getElementById('template');
        var template = _.template(tmpl.innerHTML);

        var data = {
            heading: 'ololo',
            description: 'trololo',
            listItems: [
                {
                    name: 'item1',
                    published: true
                },
                {
                    name: 'item2',
                    published: true
                },
                {
                    name: 'item3',
                    published: false
                },
                {
                    name: 'item4',
                    published: true
                }
            ]
        };

        content.innerHTML = template(data);
    </script>
</body>
</html>




























